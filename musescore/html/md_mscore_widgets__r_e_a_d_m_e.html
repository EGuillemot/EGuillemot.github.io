<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MuseScore: Widgets</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="musescore_logo_full.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MuseScore
   &#160;<span id="projectnumber">3.4</span>
   </div>
   <div id="projectbrief">Music composition and notation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Widgets </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The files in this directory define drop-in replacements for Qt's built-in widgets. These can be <a href="http://doc.qt.io/qt-5/designer-using-custom-widgets.html#promoting-widgets">used in QtCreator's Design mode</a> (i.e. in <code>.ui</code> files) or in ordinary <code>.h</code> and <code>.cpp</code> source files.</p>
<h2>When to use</h2>
<p>Consider using or adapting these widgets if you can rather than creating your own. Doing this has the following benefits:</p>
<ul>
<li>Saves time and effort</li>
<li>Easier to maintain</li>
<li>Ensures consistency in design</li>
<li>Reduces MuseScore's size and memory footprint</li>
<li>Benefit from extra features that you may not know how to implement yourself (e.g. accessibility).</li>
</ul>
<p>If none of the existing widgets suit your particular need then consider creating your own and adding it to this directory. You can use one of the existing ones as a template, and even inherit from it if appropriate. Try to give the functions and classes names that are as generic as possible. Make sure you add comments where appropriate to help other people understand how to use the widgets, and to provide any details about the implementation that are not immediately obvious from the code.</p>
<h2>Example</h2>
<p><code><a class="el" href="searchbox_8h.html">searchbox.h</a></code> defines SearchBox, a drop-in replacement for a QLineEdit, and <code><a class="el" href="filterabletreeview_8h.html">filterabletreeview.h</a></code> defines FilterableTreeView, which is a drop-in replacement for a QTreeView. When used together, these classes allow you to create a tree view to display hierarchical lists of items (e.g. books grouped by genre) and use the line edit to search in the view.</p>
<p>You can use SearchBox and FilterableTreeView inside any of MuseScore's <code>.ui</code> files like this:</p>
<ol type="1">
<li>Open the UI file (e.g. <code>startcenter.ui</code>) in Qt Creator's Design mode.</li>
<li>Drag an instance of each of the base classes (QLineEdit and QTreeView) onto the canvas (or find an existing instance).</li>
<li>Right-click the QLineEdit, choose "Promote to...", and enter the following:<ul>
<li>Promoted class name: <code><a class="el" href="class_ms_1_1_search_box.html">Ms::SearchBox</a></code> (<code><a class="el" href="namespace_ms.html">Ms</a></code> is the namespace)</li>
<li>Header file: <code><a class="el" href="searchbox_8h.html">widgets/searchbox.h</a></code></li>
</ul>
</li>
<li>Now do the same for the QTreeView:<ul>
<li>Promoted class name: <code><a class="el" href="namespace_ms.html#aaa975103c35aa4ee9f75cf47251fd709">Ms::FilterableTreeView</a></code></li>
<li>Header file: <code><a class="el" href="filterabletreeview_8h.html">widgets/filterabletreeview.h</a></code></li>
</ul>
</li>
<li>Find the widgets' object names in the properties panel on the right.<ul>
<li>These are the names you will use to refer to the widgets in the code.</li>
<li>Defaults are <code>treeView</code> and <code>lineEdit</code>. You might want to change them to something more easily identifiable (e.g. <code>bookTree</code> and <code>bookSearch</code>).</li>
</ul>
</li>
</ol>
<p>For many widgets that is all you need to do, but some will require additional setting-up to be done in the UI file's corresponding code files (in this case <code><a class="el" href="startcenter_8h.html">startcenter.h</a></code> and <code><a class="el" href="startcenter_8cpp.html">startcenter.cpp</a></code>). Look in those files for the line <code>setupUi(this);</code> and do whatever you have to do immediately after that line. The widget's source files (i.e. <code><a class="el" href="searchbox_8h.html">searchbox.h</a></code>, <code><a class="el" href="searchbox_8cpp.html">searchbox.cpp</a></code>, etc.) should tell you what you need to do. In this case, you just need to call the SearchBox's <code>setFilterableView(*view)</code> function with a pointer to the view that you want to search (i.e. <code>bookSearch-&gt;setFilterableView(bookTree);</code>). </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
